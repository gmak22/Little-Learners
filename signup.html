<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up | Little Learners</title>
    <link rel="stylesheet" href="./signup.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
</head>
<body>
    <div id="main">
        <form id="myForm">
            <h2 style="text-align: center">Sign Up</h2>
            <p style="text-align: center">Create a free account with your email</p>
            <label for="Name" class="label">Name</label>
            <br>
            <input type="text" id="name" placeholder="Enter your name">
            <br>
            <label for="email" class="label">Email</label>
            <br>
            <input type="email" id="email" placeholder="Enter your email">
            <br>
            <label for="password" class="label">Password</label>
            <br>
            <input type="text" id="password" placeholder="Create New password">
            <br>
            <div style="text-align: center"><input type="submit" value="Sign up" id="signupBtn"></div>
            
            <div id="notify">
                <p>Already a member?</p>
                <a href="./login.html">Sign in</a>
            </div>
        </form>
    </div>
</body>
</html>
<script>
    let form = document.querySelector("#myForm")
    let name =  document.querySelector("#name")
    let email =  document.querySelector("#email")
    let password =  document.querySelector("#password")

    let LSData=JSON.parse(localStorage.getItem("sign-up")) || [];

    form.addEventListener("submit", function(a){
    a.preventDefault();
   
    let obj={
        name : name.value,
        id : Math.random()*1000+1+name.value,
        email : email.value,
        password : password.value, 
    }

    for(let i=0;i<LSData.length;i++)
    {
        if(email.value != "" && LSData[i].email === email.value)
        {
            return alert("Email already exist!");
        }
    }
    if(email.value == "" && password.value == "") alert("Please enter valid email")
    if(email.value != "" && password.value != "")
    {
        alert("Account created successfully")
        LSData.push(obj);
        localStorage.setItem("sign-up",JSON.stringify(LSData))
    }
})
</script>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up | Little Learners</title>
    <link rel="stylesheet" href="./signup.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
</head>
<body>
    <div id="main">
        <form id="myForm">
            <h2 style="text-align: center">Sign Up</h2>
            <p style="text-align: center">Create a free account with your email</p>
            <label for="Name" class="label">Name</label>
            <br>
            <input type="text" id="nameInput" placeholder="Enter your name">
            <br>
            <label for="email" class="label">Email</label>
            <br>
            <input type="email" id="emailInput" placeholder="Enter your email">
            <br>
            <label for="password" class="label">Password</label>
            <br>
            <input type="text" id="passwordInput" placeholder="Create new password">
            <br>
            <div style="text-align: center"><input type="submit" value="Sign up" id="signupBtn"></div>
            
            <div id="notify">
                <p>Already a member?</p>
                <a href="./login.html">Sign in</a>
            </div>
        </form>
    </div>
</body>
</html>
<script>
    let form = document.querySelector("#myForm")
    let nameInput =  document.querySelector("#nameInput")
    let emailInput =  document.querySelector("#emailInput")
    let passwordInput =  document.querySelector("#passwordInput")
    let signupBtn =  document.querySelector("#signupBtn")
    
    let savedData = JSON.parse(localStorage.getItem("signup")) || [];

    signupBtn.addEventListener("click", (b) => {
      b.preventDefault();
      let name = nameInput.value;
      let email = emailInput.value;
      let password = passwordInput.value;

    for(let i=0;i<savedData.length;i++)
    {
        if(email != "" && savedData[i].email === email)
        {
            return alert("Account already exist!");
        }
    }

    if(email == "" && password == "") alert("Please enter email and new password")
    else if(email == "") alert("Please enter email")
    else if(password == "") alert("Please create password")
    else if(name == "") alert("Please enter name")
    else{
        savedData.push({ name, email, password });
        localStorage.setItem("signup", JSON.stringify(savedData));
        alert("Account created successfully!");
        window.location.href = "login.html";
    }
    });
</script>
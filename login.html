<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log In | Little Learners</title>
    <link rel="stylesheet" href="./login.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
</head>
<body>
    <div id="main">
        <form id="myForm">
            <h2 style="text-align: center;">Log in to your account</h2>
            <label for="email" class="label" style="text-align: left;">Email</label>
            <br>
            <input type="email" id="email" placeholder="Enter your email">
            <br>
            <label for="password" class="label">Password</label>
            <br>
            <input type="password" id="password" placeholder="Enter your password">
            <br>
            <div style="text-align: center;"><button id="loginBtn" >Log in</button></div>
            
            <div id="notify">
                <p>Not a member?</p>
                <a href="./signup.html">Sign up</a>
            </div>
        </form>
    </div>
    
</body>
</html>
<script>
    let form = document.querySelector("#myForm")
    let email =  document.querySelector("#email")
    let password =  document.querySelector("#password")
    let loginBtn = document.querySelector("#loginBtn")

    let LSData=JSON.parse(localStorage.getItem("sign-up")) || [];

    form.addEventListener("submit", function(a){
    a.preventDefault();

    let flag = false;
    for(let i=0;i<LSData.length;i++)
    {
        if(LSData[i].email !== "" || LSData[i].password !== "")
        {
            if(LSData[i].email === email.value && LSData[i].password === password.value)
            {
                flag = true;
            }
        }
    }

    if(flag==true)
    {
        alert("Logged in")
        window.location.href = "homepage.html"
    }
    else
    {
        alert("Incorrect email or password");
    }
})    
</script>